"use strict";var app=angular.module("emm-directive-pt-br",[]);app.directive("numberBr",function(){return{require:"ngModel",link:function(e,l,t,i){t.$set("type","text"),e.$watch(t.ngModel,function(e,t){var n=l.val().replace(/\D/g,"");l.val(n),setTimeout(function(){l[0].setSelectionRange(n.length,n.length)},0),i.$setViewValue(n)})}}}),app.directive("currencyBr",function(){return{require:"ngModel",link:function(e,l,t,i){t.$set("type","text"),e.$watch(t.ngModel,function(e,t){var n=l.val().replace(/\D/g,"");n=n.replace(/(\d)(\d{2})$/,"$1.$2"),r&&n&&(n=Number(n).toFixed(2));l.val(n),setTimeout(function(){l[0].setSelectionRange(n.length,n.length)},0),i.$setViewValue(n)});var r=!0;l.bind("keydown",function(e){r=!1})}}}),app.directive("cepBr",function(){return{require:"ngModel",link:function(e,l,t,i){t.$set("type","text"),t.$set("maxlength","9"),e.$watch(t.ngModel,function(e,t){var n=l.val().replace(/\D/g,"");n=n.replace(/(\d)(\d{3})$/,"$1-$2"),l.val(n),setTimeout(function(){l[0].setSelectionRange(n.length,n.length)},0),i.$setViewValue(n)})}}}),app.directive("telBr",function(){return{require:"ngModel",link:function(e,l,t,i){t.$set("type","text"),t.$set("maxlength","15"),e.$watch(t.ngModel,function(e,t){var n=l.val().replace(/\D/g,"");n=(n=n.replace(/^(\d\d)(\d)/g,"($1) $2")).replace(/(\d{5})(\d)/,"$1-$2"),l.val(n),setTimeout(function(){l[0].setSelectionRange(n.length,n.length)},0),i.$setViewValue(n)})}}}),app.directive("cnpjcpfBr",function(){return{require:"ngModel",link:function(e,l,t,i){t.$set("type","text"),t.$set("maxlength","18"),e.$watch(t.ngModel,function(e,t){var n=l.val().replace(/\D/g,"");n=11<n.length?(n=(n=(n=n.replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3")).replace(/\.(\d{3})(\d)/,".$1/$2")).replace(/(\d{4})(\d)/,"$1-$2"):(n=(n=n.replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{1,2})$/,"$1-$2");l.val(n),setTimeout(function(){l[0].setSelectionRange(n.length,n.length)},0),i.$setViewValue(n)})}}});